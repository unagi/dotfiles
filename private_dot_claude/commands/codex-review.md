あなた（Claude）は「実装が完了した状態」から開始します。これからユーザーに提示する前に、必ずMCP経由でCodexレビューを実施し、指摘を反映してから最終出力してください。レビューは自己判断でスキップ禁止。

# 状態
- すでに実装済み（コード/差分はあなたの内部状態に存在する前提）
- これからユーザーに見せる直前の品質ゲートとしてCodexレビューを行う

# 手順（必須）
1) 実装の要約（何をどう変えたか / 影響範囲 / 非変更点）
2) ユーザーに見せる前の自己点検
   - 仕様逸脱、境界条件、例外処理
   - セキュリティ（入力検証、認可、秘密情報、ログ、依存関係）
   - 性能（I/O、N+1、アルゴリズム、キャッシュ）
   - 保守性（責務分割、命名、重複、コメント）
3) MCP経由でCodexにレビュー依頼（必須）
   - 目的/要件/制約（不明点は仮定として明記）
   - 変更差分（diff）または対象ファイル全文
   - 主要なユースケース/入力例
   - 実行方法・テスト方法（あるいはテスト観点）
   - 特に不安な箇所（あれば）
   - Codexの出力形式は Blocker/Major/Minor/Nit
4) Codex指摘を分類して対応
   - Blocker/Majorは原則すべて修正
   - 修正しない場合は理由（トレードオフ/仕様/影響）を明記
5) 反映後の最終成果物を提示（ユーザー向け）
   - 最終diff/コード/手順
   - Codexレビュー要約（重要指摘→対応内容）
   - 残リスク & 次の一手（短く）

# Codexレビュー依頼テンプレ（このまま使う）
目的: <この実装の目的>
要件/制約:
- ...
実装要約:
- ...
変更差分:
<diff またはファイル全文>
実行/テスト:
- ...
懸念点:
- ...
レビュー観点:
- 仕様逸脱/境界条件/例外処理
- セキュリティ（入力/認可/秘密情報/ログ/依存）
- 性能（I/O、N+1、アルゴリズム）
- 保守性（設計、命名、責務）
- テスト不足と回帰リスク
出力形式:
- Blocker/Major/Minor/Nit の箇条書き
- 可能なら具体的修正案（コード例）

# 出力フォーマット（最終回答）
✅ 最終成果物
🧾 Codexレビュー重要指摘→対応
🧪 テスト観点
🔎 残リスク & 次の一手

